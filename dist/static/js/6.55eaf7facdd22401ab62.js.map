{"version":3,"sources":["webpack:///./src/api/memo.js","webpack:///src/components/Scheduler/index.vue","webpack:///./src/components/Scheduler/index.vue?3b32","webpack:///./src/components/Scheduler/index.vue","webpack:///src/views/calendar/index.vue","webpack:///./src/views/calendar/index.vue?d8c3","webpack:///./src/views/calendar/index.vue"],"names":["memo","updateMemo","memo1","date","data","lib_default","a","stringify","Object","request","url","method","getMemo","Scheduler","Date","required","message","trigger","initData","pickNewDate","_this","this","then","response","pickerDate","catch","error","_this2","_this3","resetForm","hour","clearValidate","_this4","event_id","name","phone","hospital_id","bookingTime","dateStr","today","eventItem","i","eventItems","_this5","stopHour","startHour","initEvents","index","push","event","_this6","resp","components_Scheduler","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","type","autosize","placeholder","on","blur","autoSave","model","value","callback","$$v","expression","_v","mode","text-color","background-color","clearable","change","click","showToday","previousDay","nextDay","directives","rawName","_l","item","span","_s","staticStyle","width","height","events_hospital","border-right","$event","handleAdd","length","class","stopPropagation","handleEdit","customer","title","visible","dialogVisiable","close-on-click-modal","update:visible","close","ref","form","label-position","label-width","rules","label","prop","$set","key","bookTime","auto-complete","slot","dialogStatus","createEvent","updateEvent","_e","staticRenderFns","calendar","__webpack_require__","normalizeComponent","ssrContext","views_calendar","calendar_Component","calendar_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/6.55eaf7facdd22401ab62.js","sourcesContent":["import request from '@/utils/request'\nimport qs from 'qs'\n\n\nexport function updateMemo(memo1, date) {\n  const data =\n    qs.stringify(\n      {\n        memo1: memo1,\n        date: date,\n      })\n\n  return request({\n    url: '/memo/update',\n    method: 'post',\n    data\n  })\n}\n\n\nexport function getMemo(date) {\n  const data =\n    qs.stringify(\n      {\n        date: date,\n      })\n\n  return request({\n    url: '/memo/retrive',\n    method: 'post',\n    data\n  })\n}\n\n\nexport default {\n  updateMemo,\n  getMemo,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/memo.js","<template>\n  <div>\n    <div class=\"memo\">\n      <el-input type=\"textarea\" autosize v-model=\"memo1\" placeholder=\"请输入备忘\" @blur=\"autoSave\"></el-input>\n\n    </div>\n    <el-menu class=\"scheduler-nav\" mode=\"horizontal\" text-color=\"#fff\" background-color=\"#409eff\">\n\n\n      <div class=\"date col\">\n        <el-date-picker v-model=\"pickerDate\" type=\"date\" :clearable=\"false\" @change=\"pickNewDate\">\n\n        </el-date-picker>\n      </div>\n      <div class=\"right-menu col\">\n        <button type=\"button\" class=\"btn\" @click=\"showToday\">\n          <span>显示今天</span>\n        </button>\n        <div class=\"arrow-group\">\n          <button type=\"button\" class=\"btn\" @click=\"previousDay\"> <</button>\n          <button type=\"button\" class=\"btn\" @click=\"nextDay\"> ></button>\n        </div>\n      </div>\n    </el-menu>\n    <div class=\"scheduler-table\" v-if=\"schedulerEvents\" v-loading=\"loading\">\n      <template v-for=\"item in schedulerEvents\">\n        <el-row class=\"event-row\">\n          <el-col :span=\"1\" class=\"event-hour\">\n            <span>{{item.hour}}</span>\n          </el-col>\n          <el-col :span=\"23\" class=\"hour-events\">\n            <div class=\"events\">\n\n              <el-row style=\"width: 100%;height: 100%;\">\n                <template v-for=\"events_hospital in item.events\">\n                  <el-col :span=\"8\" style=\"height: 100%;border-right: 1px solid #CECECE\">\n                    <div @click=\"handleAdd(events_hospital.length, item.hour)\" style=\"height: 100%\">\n                      <el-row>\n                        <template v-for=\"event in events_hospital\">\n                          <el-col :span=\"8\" class=\"event\">\n                            <span @click.stop=\"handleEdit(event)\"\n                                  :class=\"`h${event.hospital_id}-event`\">{{event.customer.name}}</span>\n                          </el-col>\n                        </template>\n                      </el-row>\n\n                    </div>\n                  </el-col>\n                </template>\n\n              </el-row>\n            </div>\n\n          </el-col>\n        </el-row>\n\n      </template>\n\n      <el-dialog title=\"预约表格\" :visible.sync=\"dialogVisiable\" width=\"30%\" :close-on-click-modal=\"true\"\n                 @close=\"dialogVisiable=false\">\n        <el-form :model=\"form\" label-position=\"left\" label-width=\"80px\" :rules=\"rules\" ref=\"form\">\n\n          <!--<el-row>-->\n          <!--<el-col :span=\"14\">-->\n\n          <!--<el-form-item label=\"名称\">-->\n          <!--<multiselect-->\n          <!--v-model=\"form.customer\"-->\n          <!--:options=\"customers\"-->\n          <!--@search-change=\"getRemoteCustomers\"-->\n          <!--placeholder=\"搜索用户\"-->\n          <!--track-by=\"name\"-->\n          <!--:custom-label=\"customLabel\"-->\n          <!--selectLabel=\"选择\"-->\n          <!--deselectLabel=\"删除\"-->\n          <!--&gt;-->\n          <!--<span slot=\"noResult\">无结果</span>-->\n          <!--</multiselect>-->\n\n          <!--</el-form-item>-->\n          <!--</el-col>-->\n\n          <!--</el-row>-->\n\n          <!--<el-form-item label=\"id\" style=\"width: 300px\">-->\n          <!--<el-input v-model=\"form.event_id\"></el-input>-->\n          <!--</el-form-item>-->\n\n          <el-form-item label=\"姓名\" style=\"width: 300px\" prop=\"name\">\n            <el-input v-model=\"form.name\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"手机号\" style=\"width: 300px\" prop=\"phone\">\n            <el-input v-model=\"form.phone\" value=\"number\"></el-input>\n          </el-form-item>\n\n\n          <el-form-item label=\"医院\" style=\"width: 300px\" prop=\"hospital\">\n            <el-select v-model=\"form.hospital\" placeholder=\"请选择\">\n              <el-option v-for=\"item in hospitalOptions\"\n                         :key=\"item.value\"\n                         :label=\"item.label\"\n                         :value=\"item.value\"\n              >\n\n              </el-option>\n            </el-select>\n          </el-form-item>\n\n          <el-form-item label=\"开始时间\" style=\"width: 300px\">\n            <el-row>\n              <el-col :span=\"24\">{{form.bookTime}}</el-col>\n              <!--<el-col :span=\"12\">11:00</el-col>-->\n            </el-row>\n          </el-form-item>\n\n          <el-form-item label=\"备注\" style=\"width: 300px\">\n            <el-input v-model=\"form.memo\" auto-complete=\"off\" type=\"textarea\"></el-input>\n          </el-form-item>\n\n\n        </el-form>\n\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"dialogVisiable=false\">取消</el-button>\n          <el-button type=\"success\" @click=\"createEvent\" v-if=\"dialogStatus==='create'\">新建</el-button>\n          <el-button type=\"success\" @click=\"updateEvent\" v-else>更改</el-button>\n        </div>\n      </el-dialog>\n\n\n    </div>\n  </div>\n\n</template>\n\n<script>\n  import {formatDate, changeDate} from '@/utils/time'\n  import eventApi from \"@/api/schedule\";\n  import memoApi from '@/api/memo'\n\n  export default {\n    name: \"scheduler\",\n    data() {\n      return {\n        today: formatDate(new Date()),\n        loading: true,\n        dialogVisiable: false,\n        dialogStatus: 'create',\n        pickerDate: formatDate(new Date()),\n        customers: [],\n        schedulerEvents: [],\n        memo1: '',\n        form: {\n          event_id: '',\n          memo: '',\n          name: '',\n          phone: '',\n          hospital: '',\n          bookTime: ''\n        },\n        hospitalOptions: [\n          {\n            value: 1,\n            label: \"世纪口腔\",\n          },\n          {\n            value: 2,\n            label: \"艾雅口腔\",\n          },\n          {\n            value: 3,\n            label: \"诊所3\",\n          },\n        ],\n        rules: {\n          name: [\n            {required: true, message: \"请输入姓名\", trigger: 'blur'},\n          ],\n          phone: [\n            {required: true, message: \"请输入手机号\", trigger: 'blur'},\n            // {type: 'number', message: '手机号必须为数字'}\n          ],\n          hospital: [\n            {required: true, message: \"不能为空\", trigger: 'blur'},\n\n          ]\n\n        }\n      }\n    },\n    computed: {\n      startHour() {\n        return 8\n      },\n\n      stopHour() {\n        return 21\n      }\n    },\n    mounted() {\n      this.initData()\n    },\n    watch: {\n      form() {\n      },\n      pickerDate() {\n        this.pickNewDate()\n      }\n    },\n    methods: {\n      resetForm() {\n        this.form = {\n          event_id: '',\n          memo: '',\n          name: '',\n          phone: '',\n          hospital: '',\n          bookTime: ''\n        }\n      },\n      createEvent() {\n        // console.log(this.form)\n        // return\n\n        this.$refs.form.validate(valid => {\n          if (!valid) {\n            return\n          }\n\n          eventApi.createDateEvents(this.form).then(\n            response => {\n              this.$notify({\n                title: '成功',\n                message: \"创建成功\",\n                type: 'success',\n                duration: 2000,\n              })\n              this.dialogVisiable = false\n              this.getDateEvents(formatDate(this.pickerDate))\n            }\n          ).catch(error => console.error(error))\n\n\n        })\n      },\n      updateEvent() {\n        this.$refs.form.validate(valid => {\n          if (!valid) {\n            return\n          }\n          eventApi.updateDateEvent(this.form).then(\n            response => {\n              this.$notify({\n                title: '成功',\n                message: \"修改成功\",\n                type: 'success',\n                duration: 2000,\n              })\n              this.dialogVisiable = false\n              this.getDateEvents(formatDate(this.pickerDate))\n            }\n          ).catch(error => console.error(error))\n        })\n      },\n      handleAdd(eventsLength, hour) {\n        if (eventsLength < 3) {\n          this.dialogVisiable = true\n          this.dialogStatus = 'create'\n          this.resetForm()\n          this.form.bookTime = formatDate(this.pickerDate) + ' ' + hour\n        }\n        else {\n        }\n        this.$nextTick(() => {\n          this.$refs['form'].clearValidate()\n        })\n      },\n      handleEdit(event) {\n        this.form = {\n          event_id: event.event_id,\n          memo: event.memo,\n          name: event.customer.name,\n          phone: event.customer.phone,\n          hospital: event.hospital_id,\n          bookTime: event.bookingTime\n        }\n        this.dialogStatus = 'update'\n        this.dialogVisiable = true\n        this.$nextTick(() => {\n          this.$refs['form'].clearValidate()\n        })\n      },\n      pickNewDate() {\n        this.loading = true\n        const dateStr = formatDate(this.pickerDate)\n        this.getDateEvents(dateStr)\n        this.getMemo(dateStr)\n      },\n      initData() {\n        this.getDateEvents(this.today)\n        this.getMemo(this.today)\n      },\n      generateInitEvents(startHour, stopHour) {\n        let eventItems = [];\n        for (let i = startHour; i <= stopHour; i++) {\n          let eventItem;\n          let hour = i\n          if (hour < 10) {\n            hour = `0${hour}:00`\n          }\n          else {\n            hour = `${hour}:00`\n          }\n          eventItem = {\n            hour: hour,\n            events: [[], [], []]\n          }\n          eventItems.push(eventItem)\n\n        }\n        return eventItems\n      },\n      getDateEvents(date) {\n        eventApi.getDateEvents(date).then(\n          response => {\n            const eventItems = response.data\n\n            let initEvents = this.generateInitEvents(this.startHour, this.stopHour)\n            for (let i in eventItems) {\n              const eventItem = eventItems[i]\n              const hour = parseInt(eventItem.bookingTime.split(':'))\n              const index = hour - this.startHour\n              const hostpital_id = eventItem.event.hospital_id\n              console.log(\"---\")\n              console.log(eventItem.bookingTime)\n              console.log(initEvents)\n              console.log(index)\n              initEvents[index].events[hostpital_id - 1].push(\n                eventItem.event\n              )\n            }\n            this.schedulerEvents = initEvents\n            this.loading = false\n          }\n        )\n      },\n\n      customLabel(option) {\n        return `${option.phone} - ${option.name}`\n      },\n      showToday() {\n        this.pickerDate = this.today\n      },\n      previousDay() {\n        this.pickerDate = changeDate(this.pickerDate, -1)\n      },\n      nextDay() {\n        this.pickerDate = changeDate(this.pickerDate, 1)\n      },\n      getMemo(dateStr) {\n        memoApi.getMemo(dateStr).then(res => {\n          this.memo1 = res.data.memo1;\n        })\n      },\n      autoSave() {\n        console.log('save')\n        const dateStr = formatDate(this.pickerDate)\n        memoApi.updateMemo(this.memo1, dateStr).then(\n          resp => {\n            console.log(\"oooook\")\n          }\n        )\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  $blue: #409eff;\n  @mixin hover {\n    background: #337ecc;\n    cursor: pointer;\n  }\n\n  ;\n  $header-font-color: white;\n  i {\n    color: $header-font-color;\n  }\n\n  .btn {\n    padding: 15px;\n    border-radius: 0;\n    border: none;\n    background: $blue;\n    display: inline-block;\n    &:hover {\n      @include hover;\n    }\n    color: $header-font-color;\n  }\n\n  .scheduler-nav {\n    padding: 5px;\n    color: $header-font-color;\n    .right-item {\n      float: right;\n    }\n\n    .col {\n      display: inline-block;\n      height: 45px;\n      line-height: 45px;\n      color: $header-font-color;\n      &:hover {\n        @include hover;\n      }\n    }\n\n    .right-menu {\n      float: right;\n    }\n\n    .arrow-group {\n      display: inline-block;\n    }\n  }\n\n  .scheduler-table {\n    margin-top: 10px;\n    .event-row {\n      height: 45px;\n      line-height: 45px;\n      border: 1px solid #CECECE;\n      .event-hour {\n        display: inline-block;\n        float: left;\n        border-right: 1px solid #CECECE;\n        color: #999999;\n      }\n      .hour-events {\n        height: 100%;\n        .events {\n          height: 100%;\n          .event {\n            span {\n              color: white;\n              display: inline-block;\n              width: 95%;\n              height: 40px;\n              line-height: 40px;\n              border-radius: 8px;\n            }\n            .h1-event {\n              background: $blue;\n            }\n            .h2-event {\n              background: #f56c6c;\n            }\n            .h3-event {\n              background: #67C23A;\n            }\n          }\n        }\n\n      }\n    }\n  }\n\n  .memo {\n    margin: 30px 0;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Scheduler/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"memo\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":\"\",\"placeholder\":\"请输入备忘\"},on:{\"blur\":_vm.autoSave},model:{value:(_vm.memo1),callback:function ($$v) {_vm.memo1=$$v},expression:\"memo1\"}})],1),_vm._v(\" \"),_c('el-menu',{staticClass:\"scheduler-nav\",attrs:{\"mode\":\"horizontal\",\"text-color\":\"#fff\",\"background-color\":\"#409eff\"}},[_c('div',{staticClass:\"date col\"},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"clearable\":false},on:{\"change\":_vm.pickNewDate},model:{value:(_vm.pickerDate),callback:function ($$v) {_vm.pickerDate=$$v},expression:\"pickerDate\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"right-menu col\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.showToday}},[_c('span',[_vm._v(\"显示今天\")])]),_vm._v(\" \"),_c('div',{staticClass:\"arrow-group\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.previousDay}},[_vm._v(\" <\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.nextDay}},[_vm._v(\" >\")])])])]),_vm._v(\" \"),(_vm.schedulerEvents)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"scheduler-table\"},[_vm._l((_vm.schedulerEvents),function(item){return [_c('el-row',{staticClass:\"event-row\"},[_c('el-col',{staticClass:\"event-hour\",attrs:{\"span\":1}},[_c('span',[_vm._v(_vm._s(item.hour))])]),_vm._v(\" \"),_c('el-col',{staticClass:\"hour-events\",attrs:{\"span\":23}},[_c('div',{staticClass:\"events\"},[_c('el-row',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_vm._l((item.events),function(events_hospital){return [_c('el-col',{staticStyle:{\"height\":\"100%\",\"border-right\":\"1px solid #CECECE\"},attrs:{\"span\":8}},[_c('div',{staticStyle:{\"height\":\"100%\"},on:{\"click\":function($event){_vm.handleAdd(events_hospital.length, item.hour)}}},[_c('el-row',[_vm._l((events_hospital),function(event){return [_c('el-col',{staticClass:\"event\",attrs:{\"span\":8}},[_c('span',{class:(\"h\" + (event.hospital_id) + \"-event\"),on:{\"click\":function($event){$event.stopPropagation();_vm.handleEdit(event)}}},[_vm._v(_vm._s(event.customer.name))])])]})],2)],1)])]})],2)],1)])],1)]}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"预约表格\",\"visible\":_vm.dialogVisiable,\"width\":\"30%\",\"close-on-click-modal\":true},on:{\"update:visible\":function($event){_vm.dialogVisiable=$event},\"close\":function($event){_vm.dialogVisiable=false}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-position\":\"left\",\"label-width\":\"80px\",\"rules\":_vm.rules}},[_c('el-form-item',{staticStyle:{\"width\":\"300px\"},attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"300px\"},attrs:{\"label\":\"手机号\",\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"value\":\"number\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"300px\"},attrs:{\"label\":\"医院\",\"prop\":\"hospital\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.hospital),callback:function ($$v) {_vm.$set(_vm.form, \"hospital\", $$v)},expression:\"form.hospital\"}},_vm._l((_vm.hospitalOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"300px\"},attrs:{\"label\":\"开始时间\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_vm._v(_vm._s(_vm.form.bookTime))])],1)],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"300px\"},attrs:{\"label\":\"备注\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"type\":\"textarea\"},model:{value:(_vm.form.memo),callback:function ($$v) {_vm.$set(_vm.form, \"memo\", $$v)},expression:\"form.memo\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisiable=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),(_vm.dialogStatus==='create')?_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.createEvent}},[_vm._v(\"新建\")]):_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.updateEvent}},[_vm._v(\"更改\")])],1)],1)],2):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-061dbcee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/Scheduler/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-061dbcee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-061dbcee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-061dbcee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Scheduler/index.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"calendar-container\">\n    <scheduler></scheduler>\n  </div>\n\n</template>\n\n<script>\n  import Scheduler from '@/components/Scheduler'\n\n  export default {\n    name: \"calendar\",\n    components: {Scheduler}\n  }\n</script>\n\n<style scoped>\n.calendar-container{\n  padding: 20px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/calendar/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"calendar-container\"},[_c('scheduler')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-351a3e0b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/views/calendar/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-351a3e0b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-351a3e0b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-351a3e0b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/calendar/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}